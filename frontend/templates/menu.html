{% extends "base.html" %}
{% block title %}菜单{% endblock %}
{% block content %}
<h2>菜单</h2>
<table>
	<thead>
	<tr>
		<th>ID</th>
		<th>菜品</th>
		<th>分类</th>
		<th>描述</th>
		<th>价格</th>
		<th>操作</th>
	</tr>
	</thead>
	<tbody>
	{% for d in menu %}
	<tr>
		<td>{{ d.id }}</td>
		<td>{{ d.name }}</td>
		<td>{{ d.category or '-' }}</td>
		<td>{{ d.description or '-' }}</td>
		<td>¥ {{ "%.2f"|format(d.price) }}</td>
		<td>
			<form action="{{ url_for('cart.add_to_cart') }}" method="post" class="inline-form">
				<input type="hidden" name="dish_id" value="{{ d.id }}">
				<label>
					数量：
					<input type="number" name="quantity" value="1" min="1" step="1">
				</label>
				<button type="submit">加入购物车</button>
			</form>
		</td>
	</tr>
	{% endfor %}
	</tbody>
</table>
<p>
	<a class="primary" href="{{ url_for('cart.view_cart') }}">
		查看购物车{% if cart_count %} ({{ cart_count }}){% endif %}
	</a>
</p>
{% endblock %}


